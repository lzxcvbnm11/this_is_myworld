/***************************************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Copyright (C) 2016 ShenZhen Yeedon Media co.,LTD. All rights reserved. * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc File Name : dio.c dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description : Driver source file of DIO. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author: Qinhui.Shen dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Date: 2016-10-14 ******************************************************************************/  /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr Files for including */ #include "dio_info.inc"  /*--------------- Global variable definition and initialization -----------------*/ static BOOL Dio_Status = FALSE;  /*---------------------- Implementation of module ---------------------*/  /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: gpio_init dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: GPIO initialization dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc port - GPIO port dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc pin - GPIO pin dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc direction - 0=output, 1=input dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc initval - GPIO init value. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0): init fail. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1): init success. * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ static BOOL dio_GPIO_Init(DioPort_ENUM port, U8 pin, DioDir_ENUM direction, U8 initval) { U8 ret = TRUE;  switch (port) { case PORT_DIO_JP0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr JP0_0~4 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORTJ_AWO.JPMC0.UINT8, pin);/* =0 PORT MODE */ SET_BIT(PORTJ_AWO.JPM0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORTJ_AWO.JPIBC0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORTJ_AWO.JPMC0.UINT8, pin);/* =0 PORT MODE */ CLR_BIT(PORTJ_AWO.JPM0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORTJ_AWO.JPIBC0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORTJ_AWO.JPBDC0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORTJ_AWO.JP0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORTJ_AWO.JP0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P0_0~9 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_AWO.PMC0.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_AWO.PM0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_AWO.PIBC0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_AWO.PMC0.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_AWO.PM0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_AWO.PIBC0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_AWO.PBDC0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_AWO.P0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_AWO.P0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P1: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P1_0~2 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC1.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC1.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P3: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P3_2~9 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC3.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC3.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P10: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P10_0~11 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC10.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC10.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P11: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P11_0~3 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC11.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC11.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P16: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P16_0~11 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC16.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC16.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P17: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P17_0~11 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC17.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC17.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P21: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P21_0~5 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC21.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC21.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P42: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P42_7~10 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC42.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC42.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P43: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P43_0~1 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC43.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC43.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P44: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P44_1~11 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC44.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC44.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_P45: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P45_0~13 */ if (DIR_DIO_INPUT == direction) { CLR_BIT(PORT_ISO.PMC45.UINT16, pin);/* =0 PORT MODE */ SET_BIT(PORT_ISO.PM45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 INTPUT MODE */ SET_BIT(PORT_ISO.PIBC45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ } else { CLR_BIT(PORT_ISO.PMC45.UINT16, pin);/* =0 PORT MODE */ CLR_BIT(PORT_ISO.PM45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 OUTPUT MODE */ /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr for loopback */ SET_BIT(PORT_ISO.PIBC45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable input buffer. */ SET_BIT(PORT_ISO.PBDC45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 Enable Bi-direction mode. */ if (initval) { SET_BIT(PORT_ISO.P45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } } break; case PORT_DIO_ALL: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr Do Nothing. */ break; default: ret = FALSE; break; }  return ret; }  /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: dio_GPIO_Set dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: GPIO set dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc port - GPIO port dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc pin - GPIO pin dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc val - GPIO pin level value. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0): set fail. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1): set success. * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ static BOOL dio_GPIO_Set(DioPort_ENUM port, U8 pin, U8 val) { U8 ret = TRUE;  switch (port) { case PORT_DIO_JP0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr JP0_0~4 */ if (val) { SET_BIT(PORTJ_AWO.JP0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORTJ_AWO.JP0.UINT8, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P0_0~9 */ if (val) { SET_BIT(PORT_AWO.P0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_AWO.P0.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P1: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P1_0~2 */ if (val) { SET_BIT(PORT_ISO.P1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P1.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P3: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P3_2~9 */ if (val) { SET_BIT(PORT_ISO.P3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P3.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P10: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P10_0~11 */ if (val) { SET_BIT(PORT_ISO.P10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P10.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P11: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P11_0~3 */ if (val) { SET_BIT(PORT_ISO.P11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P11.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P16: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P16_0~11 */ if (val) { SET_BIT(PORT_ISO.P16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P16.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P17: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P17_0~11 */ if (val) { SET_BIT(PORT_ISO.P17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P17.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P21: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P21_0~5 */ if (val) { SET_BIT(PORT_ISO.P21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P21.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P42: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P42_7~10 */ if (val) { SET_BIT(PORT_ISO.P42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P42.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P43: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P43_0~1 */ if (val) { SET_BIT(PORT_ISO.P43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P43.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P44: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P44_1~11 */ if (val) { SET_BIT(PORT_ISO.P44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P44.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; case PORT_DIO_P45: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P45_0~13 */ if (val) { SET_BIT(PORT_ISO.P45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =1 HIGH LEVEL OUTPUT */ } else { CLR_BIT(PORT_ISO.P45.UINT16, pin); /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr =0 LOW LEVEL OUTPUT*/ } break; default: ret = FALSE; break; }  return ret; }  /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: dio_GPIO_Get dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: GPIO get dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc port - GPIO port dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc pin - GPIO pin dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc pVal - get the pin level. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0): get fail. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1): get success. * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ static BOOL dio_GPIO_Get(DioPort_ENUM port, U8 pin, U8 *pVal) { BOOL ret = TRUE;  switch (port) { case PORT_DIO_JP0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr JP0_0~4 */ if (GET_BIT(PORTJ_AWO.JPPR0.UINT8, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P0: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P0_0~9 */ if (GET_BIT(PORT_AWO.PPR0.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P1: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P1_0~2 */ if (GET_BIT(PORT_ISO.PPR1.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P3: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P3_2~9 */ if (GET_BIT(PORT_ISO.PPR3.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P10: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P10_0~11 */ if (GET_BIT(PORT_ISO.PPR10.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P11: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P11_0~3 */ if (GET_BIT(PORT_ISO.PPR11.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P16: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P16_0~11 */ if (GET_BIT(PORT_ISO.PPR16.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P17: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P17_0~11 */ if (GET_BIT(PORT_ISO.PPR17.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P21: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P21_0~5 */ if (GET_BIT(PORT_ISO.PPR21.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P42: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P42_7~10 */ if (GET_BIT(PORT_ISO.PPR42.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P43: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P43_0~1 */ if (GET_BIT(PORT_ISO.PPR43.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P44: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P44_1~11 */ if (GET_BIT(PORT_ISO.PPR44.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; case PORT_DIO_P45: /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr P45_0~13 */ if (GET_BIT(PORT_ISO.PPR45.UINT16, pin)) { *pVal = 0x01; } else { *pVal = 0x00; } break; default: ret = FALSE; break; }  return ret; }   /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: DIO_GetInitStatus dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: »ñÈ¡DIOÄ£¿éµÄ³õÊ¼»¯×´Ì¬ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: none dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0): Î´³õÊ¼»¯ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1): ÒÑ³õÊ¼»¯ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ BOOL DIO_GetInitStatus(void) { return Dio_Status; } /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: DIO_Init dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: DIO initialization. dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: none dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ void DIO_Init(void) { U8 k = 0; BOOL res = TRUE;  for (k = 0; k < INDEX_DIO_ALL; k++) { res = dio_GPIO_Init(GpioList[k].port, GpioList[k].pin, GpioList[k].dir, GpioList[k].initval); if (FALSE == res) { Dio_Status = FALSE; return; } else { } }  Dio_Status = TRUE; }  /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: DIO_SetIOSts dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: ÓÃÓÚÉèÖÃIO¶Ë¿ÚµÄ¸ßµÍ×´Ì¬ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Input: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Index -Ö¸Ê¾IO¶Ë¿ÚµÄË÷ÒýºÅ£¬¶ÔÓ¦µÄIO¿ÚµÄÎïÀíË÷ÒýÖµ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc pRes - »Ø¶Á¼ì²âÉèÖÃµÄ×´Ì¬ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc PinLevel - ÉèÖÃµçÆ½µÄ×´Ì¬ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0):º¯ÊýÖ´ÐÐÊ§°Ü dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1):º¯ÊýÖ´ÐÐ³É¹¦ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ U8 DIO_SetIOSts(U16 Index,U8 PinLevel,PU8 pRes) { U8 res = RET_FAIL;  if (FALSE == Dio_Status) { res = RET_FAIL; } else if ((NULL == pRes) || (Index >= INDEX_DIO_ALL)) { res = RET_INVALID; } else { if (DIR_DIO_OUTPUT != GpioList[Index].dir) { res = RET_FAIL; } else if (INDEX_DIO_PIN16 == Index) /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr exclude PWRCTL*/ { res = RET_FAIL; } else if (FALSE == dio_GPIO_Set(GpioList[Index].port, GpioList[Index].pin, PinLevel)) { res = RET_FAIL; } else if (FALSE == dio_GPIO_Get(GpioList[Index].port, GpioList[Index].pin, pRes)) /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr read back. */ { res = RET_FAIL; } else { res = RET_OK; } } return res ; }  /*************************************************** dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Function: DIO_GetIOSts dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Description: ÓÃÓÚ¶ÁÈ¡IO¶Ë¿ÚµÄ¸ßµÍ×´Ì¬¬ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Parameters: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Input: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Index -Ö¸Ê¾IO¶Ë¿ÚµÄË÷ÒýºÅ£¬¶ÔÓ¦µÄIO¿ÚµÄÎïÀíË÷ÒýÖµ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc PinLevelÓÃÓÚ´æ·ÅÊäÈë¶Ë¿ÚµÄ×´Ì¬ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Returns: dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc FALSE(0):º¯ÊýÖ´ÐÐÊ§°Ü dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc TRUE(1):º¯ÊýÖ´ÐÐ³É¹¦ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Create & Verlog:$ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Author:Qinhui.Shen Date:2016-10-14 Version:V1.0 ****************************************************/ U8 DIO_GetIOSts(U16 Index,PU8 PinLevel) { U8 dioiores;  if (FALSE == Dio_Status) { dioiores = RET_FAIL; } else if ((NULL == PinLevel) || (Index >= INDEX_DIO_ALL)) { dioiores = RET_INVALID; } else { if (DIR_DIO_INPUT != GpioList[Index].dir) { dioiores = RET_FAIL; } else { if (TRUE ==dio_GPIO_Get(GpioList[Index].port, GpioList[Index].pin, PinLevel)) { dioiores = RET_OK; } else { } } } return dioiores; }  void DIO_GPIO_Dlayus(U32 cnt) { U32 counter = 1000; for( ;0 != cnt;cnt --) { for(; 0 != counter;counter--) { ; } } }  /*----------------- End of Module -----------------*/  /*=========================================================================== dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc File Revision History(bottom to top:first revision to last revision) *============================================================================ dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc $Log:$ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc Rev: Userid: Date: Description *-------- ---------- --------- ------------------------------ * dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc V1.0 Qinhui.Shen 2016-10-14 Initial dio.c dio_cfg.h dio_info.inc dio_private.h dio_public.h Y-AD4-007ä¼šè®®è®°å½• V1.0 20161202.doc Y-AD4-007ä¼šè®®è®°å½• V1.1 20161203.doc V1.1 Qinhui.Shen 2016-12-16 move GpioList[] to dio_private.h * *===========================================================================*/
