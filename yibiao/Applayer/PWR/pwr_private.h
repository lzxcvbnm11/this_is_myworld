/***************************************************************************** pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h Copyright (C) 2016 ShenZhen Yeedon Media co.,LTD. All rights reserved. * pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h File Name : pwr_private.h pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h Description :the private datas of the pwr module. pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h Author: Xueping.Chen pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h Date: 2016-12-09 ******************************************************************************/  /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr check of multiple include */ #ifndef _PWR_PRIVATE_H_  #define _PWR_PRIVATE_H_  #include "yd_typedefs.h"  /*private Macro defines */ #define CHECKSTATUS_PERIOD 5000 /*自检持续时间*/ #define PWR_PROCESS_PERIOD 20 /*处理函数周期*/ #define CHECK_PROCESS_PERIOD 100 /*自检处理函数周期*/ #define SSBLONGPRE_PROCESS_PERIOD 20 /*SSB按键长按周期*/ #define SSBLONGPRE_PERIOD_CNT (SSBLONGPRE_PROCESS_PERIOD / PWR_PROCESS_PERIOD) #define CHECK_PERIOD_CNT (CHECK_PROCESS_PERIOD / CHECK_PROCESS_PERIOD) #define CHECKSTATUS_50MSPERIOD_MAXCOUNT (CHECKSTATUS_PERIOD / CHECK_PROCESS_PERIOD) /*自检COUTER数*/ #define PWR_WHEEL_NUM 4 /*车轮的最大数量*/ #define PWR_WHEEL_THREASHOLD 3 /*判断车停止的车轮数量门限值*/ #define PWR_VSTOP_MATRIX_NUM 5 /*车轮停止判断矩阵表个数*/  /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr Private data structures defines */ typedef struct PWRWheelData_Tag { U32 data; /*轮子的转速*/ U16 valid; /*轮子转速数据的有效性*/ BOOL Wstop; /*轮子是否停止*/ }PWRWheelData_ST;  typedef enum PWRWheelType_Tag { PWR_WHEEL_LF = (0u), /*左前轮*/ PWR_WHEEL_LR, /*左后轮*/ PWR_WHEEL_RF, /*右前轮*/ PWR_WHEEL_RR, /*右后轮*/ PWR_WHEEL_ALL }PWRWheelType_ENUM;   typedef union DID_D001_Tag { U8 Value; struct { U8 sAccSts:1;  U8 sRunSts:1;  U8 sEnginerunA:1;  U8 sCrkSts:1;  U8 gAccSts:1;  U8 gRunSts:1;  U8 gEnginerunA:1;  U8 gCrkSts:1; }pwr_u; }DID_D001_UN;  /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr Private static functions declare */ static void pwr_VehicleStop_100ms(void); static void pwr_CheckStatus_100ms(void);  static void pwr_SSBLongPressDetect_20ms(void); static void pwr_PowerMode_10ms(void); static void pwr_BackUpPowerMode_Process(void); static void pwr_OffModeTrans(void); static void pwr_AccModeTrans(void); static void pwr_RunModeTrans(void); static void pwr_CrankModeTrans(void); static void pwr_WheelStop(void); static void pwr_Update_D001_Value(void); #endif /*_PWR_PRIVATE_H_*/  /*----------------end of file------------------------*/  /*=========================================================================== pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h File Revision History(bottom to top:first revision to last revision) *============================================================================ pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h $Log:$ * pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h Rev: Userid: Date: Description *-------- ---------- --------- ------------------------------ * pwr.c pwr_cfg.h pwr_info.inc pwr_private.h pwr_public.h V1.0 Xueping.Chen 2016-12-09 Initial * *===========================================================================*/
